"use strict";function _classCallCheck(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}var Slider=function i(e){var t,n=this;if(_classCallCheck(this,i),this.transitionStyles=["overlay"],this.containerId=e.containerId,this.imageURLs=e.imageURLs,this.transitionStyle=e.transitionStyle,this.transitionTime=e.transitionTime,this.currentIndex=0,this.sliderLock=!1,this.images=[],this.transitionStyle=!!this.transitionStyles.includes(this.transitionStyle)&&this.transitionStyle,this.transitionTime=this.transitionTime?this.transitionTime:250,!Array.isArray(this.imageURLs))throw"Slider error: imageURLs must be an array of strings";if(!document.getElementById(this.containerId))throw"Slider error: conatinerId must be a valid element's id";this.container=document.getElementById(this.containerId),this.imageURLs.forEach(function(i,e){(t=document.createElement("IMG")).id=n.containerId+"-slide-"+e,t.src=i,t.classList.add("russunit-slider-image"),0<e?(t.style.visibility="hidden",t.style.zIndex=0):t.style.zIndex=2,n.container.appendChild(t),n.images[e]=t}),this.container.classList.add("russunit-slider-container"),this.container.style.width=this.images[0].clientWidth,this.container.style.height=this.images[0].clientHeight,this.resizeContainer=function(){n.container.style.width=n.images[0].clientWidth,n.container.style.height=n.images[0].clientHeight},this.getNextIndex=function(){return(n.currentIndex+1)%n.images.length},this.getPrevIndex=function(){return n.currentIndex<1?n.images.length-1:n.currentIndex-1},this.nextSlide=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;n.goToSlide(n.getNextIndex(),i)},this.prevSlide=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;n.goToSlide(n.getPrevIndex(),i)},this.goToSlide=function(i){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof i||i<0||i+1>n.images.length)console.log("Slider error: invalid index in goToSlide: "+i),"function"==typeof e&&e();else if(i===n.currentIndex)console.log("Slider error: current index in goToSlide: "+i),"function"==typeof e&&e();else if(n.sliderLock)console.log("Slider error: slider is locked.");else{var t=function(){n.currentIndex=i,n.sliderLock=!1,"function"==typeof e&&e()};n.sliderLock=!0,n.transitionStyle?"overlay"===n.transitionStyle&&(n.images[i].style.zIndex=1,n.images[i].style.opacity=1,n.images[i].style.visibility="visible",slideFadeOut(n.images[n.currentIndex],function(){n.images[n.currentIndex].style.zIndex=0,n.images[i].style.zIndex=2,t()},{toggleVisibility:!0,fadeTime:n.transitionTime})):slideFadeReplace(n.images[n.currentIndex],n.images[i],t,{toggleVisibility:!0,fadeTime:n.transitionTime/2})}},window.addEventListener("resize",this.resizeContainer)};function slideFadeReplace(i,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];n.waitTime=!!n.waitTime&&n.waitTime,n.display=!!n.display&&n.display,n.fadeTime=n.fadeTime?n.fadeTime:250,n.toggleVisibility=!!n.toggleVisibility&&n.toggleVisibility,n.waitTime?(n.waitTime=!0===n.waitTime?2e3:n.waitTime,setTimeout(function(){n.waitTime=!1,slideFadeReplace(i,e,t,n)},n.waitTime)):slideFadeOut(i,function(){slideFadeIn(e,t,n)},n)}function slideFadeOut(i){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];"function"!=typeof e&&(e=function(){}),"string"==typeof i&&(i=document.getElementById(i));t.waitTime=!!t.waitTime&&t.waitTime,t.fadeTime=t.fadeTime?t.fadeTime:250,t.toggleVisibility=!!t.toggleVisibility&&t.toggleVisibility;var n=t.toggleVisibility?function(i){return"hidden"!==i.style.visibility}:function(i){return"none"!==i.style.display},s=t.toggleVisibility?function(i){i.style.visibility="hidden"}:function(i){i.style.display="none"};if(i)if(n(i)){if(t.waitTime)t.waitTime=!0===t.waitTime?2e3:t.waitTime,t.waitTime="number"==typeof t.waitTime?t.waitTime:2e3,setTimeout(function(){t.waitTime=!1,slideFadeOut(i,e,t)},t.waitTime);else if(i){t.fadeTime="number"==typeof t.fadeTime?t.fadeTime:250;var a=25/t.fadeTime;i.style.opacity=1;var l=setInterval(function(){0<i.style.opacity?i.style.opacity-=a:(clearInterval(l),s(i),e())},t.fadeTime*a)}}else e();else console.log("fadeOut error: no such element exists.")}function slideFadeIn(i){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];"function"!=typeof e&&(e=function(){}),"string"==typeof i&&(i=document.getElementById(i));t.waitTime=!!t.waitTime&&t.waitTime,t.display=!!t.display&&t.display,t.fadeTime=t.fadeTime?t.fadeTime:250,t.toggleVisibility=!!t.toggleVisibility&&t.toggleVisibility,t.display=!1===t.display?"block":t.display,t.display=!0===t.display?"flex":t.display;var n=t.toggleVisibility?function(i){return"hidden"!==i.style.visibility}:function(i){return"none"!==i.style.display},s=t.toggleVisibility?function(i){i.style.visibility="visible"}:function(i){i.style.display=t.display};if(t.fadeTime="number"==typeof t.fadeTime?t.fadeTime:250,i){if(n(i))e();else if(t.waitTime)t.waitTime=!0===t.waitTime?2e3:t.waitTime,t.waitTime="number"==typeof t.waitTime?t.waitTime:2e3,setTimeout(function(){t.waitTime=!1,slideFadeIn(i,e,t)},t.waitTime);else if(i){var a=25/t.fadeTime;i.style.opacity=0,s(i);var l=setInterval(function(){i.style.opacity<1?i.style.opacity=parseFloat(i.style.opacity)+parseFloat(a):(clearInterval(l),e())},t.fadeTime*a)}}else console.log("fadeIn error: no such element exists: ")}