"use strict";function _defineProperties(i,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}function _createClass(i,t,e){return t&&_defineProperties(i.prototype,t),e&&_defineProperties(i,e),i}function _classCallCheck(i,t){if(!(i instanceof t))throw new TypeError("Cannot call a class as a function")}var Slider=function i(t){var e,n,o,l,s=this;if(_classCallCheck(this,i),this.containerId=t.containerId,this.containerPosition=t.containerPosition,this.images=t.images,this.transitionTime=t.transitionTime,this.transitionDirectionX=t.transitionDirectionX,this.transitionDirectionY=t.transitionDirectionY,this.transitionZoom=t.transitionZoom,this.bullets=t.bullets,this.bulletColor=t.bulletColor,this.bulletsHide=t.bulletsHide,this.arrows=t.arrows,this.arrowsHide=t.arrowsHide,this.swipe=t.swipe,this.currentIndex=0,this.sliderLock=!1,this.imageElements=[],this.transitionTime=this.transitionTime?this.transitionTime:250,this.containerPosition="string"==typeof this.containerPosition?this.containerPosition:null,this.bullets="boolean"==typeof this.bullets&&this.bullets,this.bulletsHide=!("boolean"!=typeof this.bulletsHide||!this.bullets)&&this.bulletsHide,this.arrows="boolean"==typeof this.arrows&&this.arrows,this.arrowsHide=!("boolean"!=typeof this.arrowsHide||!this.arrows)&&this.arrowsHide,this.swipe="boolean"==typeof this.swipe&&this.swipe,this.bulletColor){this.bulletColor=(e=this.bulletColor,(n=(new Option).style).color=e,n.color==e?this.bulletColor:"red")}else this.bulletColor="red";if(!Array.isArray(this.images))throw"Slider error: images must be an array";if(!document.getElementById(this.containerId))throw"Slider error: conatinerId must be a valid element's id";this.container=document.getElementById(this.containerId),this.images.forEach(function(i,t){"string"==typeof i&&(i={imageUrl:i,linkUrl:null,linkNewTab:null}),(o=document.createElement("IMG")).id=s.containerId+"-slide-"+t,o.src=i.imageUrl,o.classList.add("russunit-slider-image"),o.style.margin="auto",o.style.maxWidth="100%",o.style.position="absolute",o.style.top=0,(o.style.left=0)<t?(o.style.visibility="hidden",o.style.zIndex=0):o.style.zIndex=2,s.container.appendChild(o),t===s.images.length-1&&(o.onload=function(){s.container.style.width=Math.min(o.naturalWidth,window.innerWidth),s.container.style.height=Math.min(o.naturalHeight,window.innerHeight),s.container.style.width=o.clientWidth,s.container.style.height=o.clientHeight}),s.imageElements[t]=o}),this.container.classList.add("russunit-slider-container"),this.container.style.marginLeft="auto",this.container.style.marginRight="auto",this.container.style.maxWidth="100%",this.container.style.display="flex",this.container.style.overflow="hidden",this.container.style.position="relative",this.arrows&&(this.leftArrow=document.createElement("SPAN"),this.leftArrow.id=this.containerId+"-arrow-left",this.leftArrow.classList.add("russunit-slider-arrow"),this.leftArrow.classList.add("russunit-slider-arrow-left"),this.leftArrow.style.zIndex=6,this.leftArrow.style.color="#fff",this.leftArrow.style.fontSize="2em",this.leftArrow.style.margin="auto auto auto 10px",this.leftArrow.style.cursor="pointer",this.leftArrow.innerHTML="&lt;",this.container.appendChild(this.leftArrow)),this.bullets&&(this.bulletContainer=document.createElement("DIV"),this.bulletContainer.id=this.containerId+"-bullet-container",this.bulletContainer.classList.add("russunit-slider-bullet-container"),this.bulletContainer.style.zIndex=6,this.bulletContainer.style.position="relative",this.bulletContainer.style.margin="auto auto 0",this.bulletContainer.style.textAlign="center",this.container.appendChild(this.bulletContainer),this.bullets=[],this.imageElements.forEach(function(i,t){(l=document.createElement("SPAN")).id=s.containerId+"-bullet-"+t,l.classList.add("russunit-slider-bullet"),l.style.color="#fff",l.style.zIndex=10,l.style.fontSize="2em",l.style.margin="0 5px",l.style.cursor="pointer",l.innerHTML="&bull;",0===t&&(l.style.color=s.bulletColor),s.bullets[t]=l,s.bulletContainer.appendChild(l)}),this.bulletsHide&&(this.bulletContainer.style.visibility="hidden",this.bulletContainer.style.opacity=0,this.bulletContainer.style.transition="visibility 0.3s linear,opacity 0.3s linear",this.container.addEventListener("mouseenter",function(){s.bulletContainer.style.visibility="visible",s.bulletContainer.style.opacity=1}),this.container.addEventListener("mouseleave",function(){s.bulletContainer.style.visibility="hidden",s.bulletContainer.style.opacity=0})));if(this.arrows&&(this.rightArrow=document.createElement("SPAN"),this.rightArrow.id=this.containerId+"-arrow-right",this.rightArrow.classList.add("russunit-slider-arrow"),this.rightArrow.classList.add("russunit-slider-arrow-right"),this.rightArrow.style.zIndex=6,this.rightArrow.style.color="#fff",this.rightArrow.style.fontSize="2em",this.rightArrow.style.margin="auto 10px auto auto",this.rightArrow.style.cursor="pointer",this.rightArrow.innerHTML="&gt;",this.container.appendChild(this.rightArrow)),this.arrows&&this.arrowsHide&&(this.leftArrow.style.visibility="hidden",this.leftArrow.style.opacity=0,this.leftArrow.style.transition="visibility 0.3s linear,opacity 0.3s linear",this.rightArrow.style.visibility="hidden",this.rightArrow.style.opacity=0,this.rightArrow.style.transition="visibility 0.3s linear,opacity 0.3s linear",this.container.addEventListener("mouseenter",function(){s.leftArrow.style.visibility="visible",s.leftArrow.style.opacity=1,s.rightArrow.style.visibility="visible",s.rightArrow.style.opacity=1}),this.container.addEventListener("mouseleave",function(){s.leftArrow.style.visibility="hidden",s.leftArrow.style.opacity=0,s.rightArrow.style.visibility="hidden",s.rightArrow.style.opacity=0})),this.resizeContainer=function(){s.container.style.width=s.container.parentNode.clientWidth;var i=s.imageElements[0].naturalWidth/s.imageElements[0].naturalHeight;s.container.style.height=parseFloat(s.container.style.width.replace("px",""))/i},window.addEventListener("resize",this.resizeContainer),this.getNextIndex=function(){return(s.currentIndex+1)%s.imageElements.length},this.getPrevIndex=function(){return s.currentIndex<1?s.imageElements.length-1:s.currentIndex-1},this.nextSlide=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;s.goToSlide(s.getNextIndex(),i)},this.prevSlide=function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;s.goToSlide(s.getPrevIndex(),i)},this.setSlideLink=function(i){s.linkOverlay&&(s.container.removeChild(s.linkOverlay),s.linkOverlay=null),s.images[i].linkUrl&&(s.linkOverlay=document.createElement("DIV"),s.linkOverlay.id=s.containerId+"-link-overlay",s.linkOverlay.classList.add("russunit-slider-link-overlay"),s.linkOverlay.style.zIndex=5,s.linkOverlay.style.position="absolute",s.linkOverlay.style.top=0,s.linkOverlay.style.left=0,s.linkOverlay.style.width="100%",s.linkOverlay.style.height="100%",s.linkOverlay.style.cursor="pointer",s.images[i].linkNewTab?s.linkOverlay.addEventListener("click",function(){window.open(s.images[i].linkUrl,"_blank")}):s.linkOverlay.addEventListener("click",function(){window.location.href=s.images[i].linkUrl}),s.container.appendChild(s.linkOverlay))},this.transitionSlide=function(i,t){s.imageElements[i].style.zIndex=1,s.imageElements[i].style.opacity=1,s.imageElements[i].style.visibility="visible",slideFadeOut(s.imageElements[s.currentIndex],function(){s.imageElements[s.currentIndex].style.zIndex=0,s.imageElements[i].style.zIndex=2,t()},{toggleVisibility:!0,fadeTime:s.transitionTime,directionX:s.transitionDirectionX,directionY:s.transitionDirectionY,zoom:s.transitionZoom})},this.goToSlide=function(i){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof i||i<0||i+1>s.imageElements.length)console.log("Slider error: invalid index in goToSlide: "+i),"function"==typeof t&&t();else if(i===s.currentIndex)console.log("Slider error: current index in goToSlide: "+i),"function"==typeof t&&t();else if(s.sliderLock)console.log("Slider error: slider is locked.");else{s.bullets&&(s.bullets[s.currentIndex].style.color="#fff",s.bullets[i].style.color=s.bulletColor);s.sliderLock=!0,s.transitionSlide(i,function(){s.currentIndex=i,s.setSlideLink(i),s.sliderLock=!1,"function"==typeof t&&t()})}},this.bullets&&this.imageElements.forEach(function(i,t){s.bullets[t].addEventListener("click",function(i){s.goToSlide(t),i.stopPropagation()})}),this.arrows&&(this.leftArrow.addEventListener("click",function(i){s.prevSlide(),i.stopPropagation()}),this.rightArrow.addEventListener("click",function(i){s.nextSlide(),i.stopPropagation()})),this.setSlideLink(this.currentIndex),this.swipe){var r=new Swipe(this.container);r.onLeft(function(){var i={x:s.transitionDirectionX,y:s.transitionDirectionY,z:s.transitionZoom};s.transitionDirectionX="left",s.transitionDirectionY=!1,s.transitionZoom=!1,s.nextSlide(function(){s.transitionDirectionX=i.x,s.transitionDirectionY=i.y,s.transitionZoom=i.z})}),r.onRight(function(){var i={x:s.transitionDirectionX,y:s.transitionDirectionY,z:s.transitionZoom};s.transitionDirectionX="right",s.transitionDirectionY=!1,s.transitionZoom=!1,s.prevSlide(function(){s.transitionDirectionX=i.x,s.transitionDirectionY=i.y,s.transitionZoom=i.z})}),r.run()}},Swipe=function(){function e(i){var t=this;_classCallCheck(this,e),this.xDown=null,this.yDown=null,this.element="string"==typeof i?document.querySelector(i):i,this.element.addEventListener("touchstart",function(i){t.xDown=i.touches[0].clientX,t.yDown=i.touches[0].clientY},!1)}return _createClass(e,[{key:"onLeft",value:function(i){return this.onLeft=i,this}},{key:"onRight",value:function(i){return this.onRight=i,this}},{key:"onUp",value:function(i){return this.onUp=i,this}},{key:"onDown",value:function(i){return this.onDown=i,this}},{key:"handleTouchMove",value:function(i){if(this.xDown&&this.yDown){var t=i.touches[0].clientX,e=i.touches[0].clientY;this.xDiff=this.xDown-t,this.yDiff=this.yDown-e,Math.abs(this.xDiff)>Math.abs(this.yDiff)?0<this.xDiff?this.onLeft():this.onRight():0<this.yDiff?this.onUp():this.onDown(),this.xDown=null,this.yDown=null}}},{key:"run",value:function(){var t=this;this.element.addEventListener("touchmove",function(i){t.handleTouchMove(i)},!1)}}]),e}();function slideFadeReplace(i,t){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];n.waitTime=!!n.waitTime&&n.waitTime,n.display=!!n.display&&n.display,n.fadeTime=n.fadeTime?n.fadeTime:250,n.toggleVisibility=!!n.toggleVisibility&&n.toggleVisibility,n.waitTime?(n.waitTime=!0===n.waitTime?2e3:n.waitTime,setTimeout(function(){n.waitTime=!1,slideFadeReplace(i,t,e,n)},n.waitTime)):slideFadeOut(i,function(){slideFadeIn(t,e,n)},n)}function slideFadeOut(i){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];"function"!=typeof t&&(t=function(){}),"string"==typeof i&&(i=document.getElementById(i));e.waitTime=!!e.waitTime&&e.waitTime,e.fadeTime=e.fadeTime?e.fadeTime:500,e.toggleVisibility=!!e.toggleVisibility&&e.toggleVisibility,e.directionX=e.directionX?e.directionX:null,e.directionY=e.directionY?e.directionY:null,e.zoom=e.zoom?e.zoom:null;var n=e.toggleVisibility?function(i){return"hidden"!==i.style.visibility}:function(i){return"none"!==i.style.display},o=e.toggleVisibility?function(i){i.style.visibility="hidden"}:function(i){i.style.display="none"};if(i)if(n(i)){var l,s,r;if(e.directionX)switch(e.directionX=["left","right","random"].includes(e.directionX)?e.directionX:null,"random"===e.directionX&&(e.directionX=["right","left",null][Math.floor(3*Math.random())]),e.directionX){case"right":l=1;break;case"left":l=-1}if(e.directionY)switch(e.directionY=["up","down","random"].includes(e.directionY)?e.directionY:null,"random"===e.directionY&&(e.directionY=["up","down",null][Math.floor(3*Math.random())]),e.directionY){case"up":s=-1;break;case"down":s=1}if(e.zoom)switch(e.zoom=["in","out","random"].includes(e.zoom)?e.zoom:null,"random"===e.zoom&&(e.zoom=["in","out",null][Math.floor(3*Math.random())]),e.zoom){case"in":r=.005;break;case"out":r=-.005}if(e.waitTime)e.waitTime=!0===e.waitTime?2e3:e.waitTime,e.waitTime="number"==typeof e.waitTime?e.waitTime:2e3,setTimeout(function(){e.waitTime=!1,slideFadeOut(i,t,e)},e.waitTime);else{e.fadeTime="number"==typeof e.fadeTime?e.fadeTime:500;var a=20/e.fadeTime;i.style.opacity=1;var d=setInterval(function(){0<i.style.opacity?(i.style.opacity-=a,e.directionX&&(i.style.left=parseFloat(i.style.left.replace("px",""))+l+"px"),e.directionY&&(i.style.top=parseFloat(i.style.top.replace("px",""))+s+"px"),e.zoom&&(i.style.transform||(i.style.transform="scale(1)"),i.style.transform="scale("+(parseFloat(i.style.transform.replace("scale(","").replace(")",""))+r)+")")):(clearInterval(d),o(i),i.style.top=0,i.style.left=0,i.style.transform="scale(1)",t())},20)}}else t();else console.log("fadeOut error: no such element exists.")}function slideFadeIn(i){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];"function"!=typeof t&&(t=function(){}),"string"==typeof i&&(i=document.getElementById(i));e.waitTime=!!e.waitTime&&e.waitTime,e.display=!!e.display&&e.display,e.fadeTime=e.fadeTime?e.fadeTime:250,e.toggleVisibility=!!e.toggleVisibility&&e.toggleVisibility,e.display=!1===e.display?"block":e.display,e.display=!0===e.display?"flex":e.display;var n=e.toggleVisibility?function(i){return"hidden"!==i.style.visibility}:function(i){return"none"!==i.style.display},o=e.toggleVisibility?function(i){i.style.visibility="visible"}:function(i){i.style.display=e.display};if(e.fadeTime="number"==typeof e.fadeTime?e.fadeTime:250,i){if(n(i))t();else if(e.waitTime)e.waitTime=!0===e.waitTime?2e3:e.waitTime,e.waitTime="number"==typeof e.waitTime?e.waitTime:2e3,setTimeout(function(){e.waitTime=!1,slideFadeIn(i,t,e)},e.waitTime);else if(i){var l=20/e.fadeTime;i.style.opacity=0,o(i);var s=setInterval(function(){i.style.opacity<1?i.style.opacity=parseFloat(i.style.opacity)+parseFloat(l):(clearInterval(s),t())},20)}}else console.log("fadeIn error: no such element exists: ")}