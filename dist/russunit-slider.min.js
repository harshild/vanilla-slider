"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}var Slider=function e(i){var t,n,o,l=this;if(_classCallCheck(this,e),this.transitionStyles=["default","overlay"],this.containerId=i.containerId,this.containerPosition=i.containerPosition,this.imageURLs=i.imageURLs,this.transitionStyle=i.transitionStyle,this.transitionTime=i.transitionTime,this.transitionDirectionX=i.transitionDirectionX,this.transitionDirectionY=i.transitionDirectionY,this.transitionZoom=i.transitionZoom,this.bullets=i.bullets,this.bulletColor=i.bulletColor,this.arrows=i.arrows,this.currentIndex=0,this.sliderLock=!1,this.images=[],this.transitionStyle=this.transitionStyles.includes(this.transitionStyle)?this.transitionStyle:"default",this.transitionTime=this.transitionTime?this.transitionTime:250,this.containerPosition="string"==typeof this.containerPosition?this.containerPosition:null,this.bullets="boolean"==typeof this.bullets&&this.bullets,this.bulletColor){this.bulletColor=_typeof((t=this.bulletColor,(n=(new Option).style).color=t,n.color==t))?this.bulletColor:"red"}else this.bulletColor="red";if(!Array.isArray(this.imageURLs))throw"Slider error: imageURLs must be an array of strings";if(!document.getElementById(this.containerId))throw"Slider error: conatinerId must be a valid element's id";if(this.container=document.getElementById(this.containerId),this.imageURLs.forEach(function(e,i){(o=document.createElement("IMG")).id=l.containerId+"-slide-"+i,o.src=e,o.classList.add("russunit-slider-image"),o.style.margin="auto",o.style.maxWidth="100%",o.style.position="absolute",o.style.top=0,(o.style.left=0)<i?(o.style.visibility="hidden",o.style.zIndex=0):o.style.zIndex=2,l.container.appendChild(o),i===l.imageURLs.length-1&&(o.onload=function(){l.container.style.width=Math.min(o.naturalWidth,window.innerWidth),l.container.style.height=Math.min(o.naturalHeight,window.innerHeight),l.container.style.width=o.clientWidth,l.container.style.height=o.clientHeight}),l.images[i]=o}),this.container.classList.add("russunit-slider-container"),this.container.style.marginLeft="auto",this.container.style.marginRight="auto",this.container.style.maxWidth="100%",this.container.style.display="flex",this.container.style.overflow="hidden",this.container.style.position="relative",this.bullets){var s,r=document.createElement("DIV");r.id=this.containerId+"-bullet-container",r.classList.add("russunit-slider-bullet-container"),r.style.zIndex=4,r.style.position="relative",r.style.margin="auto auto 0",r.style.textAlign="center",this.container.appendChild(r),this.images.forEach(function(e,i){(s=document.createElement("SPAN")).id=l.containerId+"-bullet-"+i,s.classList.add("russunit-slider-bullet"),s.style.color="#fff",s.style.zIndex=4,s.style.fontSize="2em",s.style.margin="0 5px",s.style.cursor="pointer",s.innerHTML="&bull;",0===i&&(s.style.color=l.bulletColor),r.appendChild(s)})}if(this.arrows){var a=document.createElement("DIV");a.id=this.containerId+"-arrow-container",a.classList.add("russunit-slider-arrow-container"),a.style.zIndex=4,a.style.position="absolute",a.style.top=0,a.style.left=0,a.style.display="flex",a.style.width="100%",a.style.height="100%",a.style.justifyContent="space-between",this.container.appendChild(a);var d=document.createElement("SPAN");d.id=this.containerId+"-arrow-left",d.classList.add("russunit-slider-arrow"),d.classList.add("russunit-slider-arrow-left"),d.style.zIndex=4,d.style.color="#fff",d.style.fontSize="2em",d.style.margin="auto 10px",d.style.cursor="pointer",d.innerHTML="&lt;",a.appendChild(d);var c=document.createElement("SPAN");c.id=this.containerId+"-arrow-right",c.classList.add("russunit-slider-arrow"),c.classList.add("russunit-slider-arrow-right"),c.style.zIndex=4,c.style.color="#fff",c.style.fontSize="2em",c.style.margin="auto 10px",c.style.cursor="pointer",c.innerHTML="&gt;",a.appendChild(c)}this.resizeContainer=function(){l.container.style.width=l.container.parentNode.clientWidth;var e=l.images[0].naturalWidth/l.images[0].naturalHeight;l.container.style.height=parseFloat(l.container.style.width.replace("px",""))/e},window.addEventListener("resize",this.resizeContainer),this.getNextIndex=function(){return(l.currentIndex+1)%l.images.length},this.getPrevIndex=function(){return l.currentIndex<1?l.images.length-1:l.currentIndex-1},this.nextSlide=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;l.goToSlide(l.getNextIndex(),e)},this.prevSlide=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;l.goToSlide(l.getPrevIndex(),e)},this.transitionSlide={default:function(e,i){slideFadeReplace(l.images[l.currentIndex],l.images[e],i,{toggleVisibility:!0,fadeTime:l.transitionTime/2})},overlay:function(e,i){l.images[e].style.zIndex=1,l.images[e].style.opacity=1,l.images[e].style.visibility="visible",slideFadeOut(l.images[l.currentIndex],function(){l.images[l.currentIndex].style.zIndex=0,l.images[e].style.zIndex=2,i()},{toggleVisibility:!0,fadeTime:l.transitionTime,directionX:l.transitionDirectionX,directionY:l.transitionDirectionY,zoom:l.transitionZoom})}},this.goToSlide=function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if("number"!=typeof e||e<0||e+1>l.images.length)console.log("Slider error: invalid index in goToSlide: "+e),"function"==typeof i&&i();else if(e===l.currentIndex)console.log("Slider error: current index in goToSlide: "+e),"function"==typeof i&&i();else if(l.sliderLock)console.log("Slider error: slider is locked.");else{l.bullets&&(document.getElementById(l.containerId+"-bullet-"+l.currentIndex).style.color="#fff",document.getElementById(l.containerId+"-bullet-"+e).style.color=l.bulletColor);l.sliderLock=!0,l.transitionSlide[l.transitionStyle](e,function(){l.currentIndex=e,l.sliderLock=!1,"function"==typeof i&&i()})}},this.bullets&&this.images.forEach(function(e,i){s.id=l.containerId+"-bullet-"+i,document.getElementById(l.containerId+"-bullet-"+i).addEventListener("click",function(){l.goToSlide(i)})}),this.arrows&&(document.getElementById(this.containerId+"-arrow-left").addEventListener("click",function(){l.prevSlide()}),document.getElementById(this.containerId+"-arrow-right").addEventListener("click",function(){l.nextSlide()}))};function slideFadeReplace(e,i){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:function(){},n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:[];n.waitTime=!!n.waitTime&&n.waitTime,n.display=!!n.display&&n.display,n.fadeTime=n.fadeTime?n.fadeTime:250,n.toggleVisibility=!!n.toggleVisibility&&n.toggleVisibility,n.waitTime?(n.waitTime=!0===n.waitTime?2e3:n.waitTime,setTimeout(function(){n.waitTime=!1,slideFadeReplace(e,i,t,n)},n.waitTime)):slideFadeOut(e,function(){slideFadeIn(i,t,n)},n)}function slideFadeOut(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];"function"!=typeof i&&(i=function(){}),"string"==typeof e&&(e=document.getElementById(e));t.waitTime=!!t.waitTime&&t.waitTime,t.fadeTime=t.fadeTime?t.fadeTime:500,t.toggleVisibility=!!t.toggleVisibility&&t.toggleVisibility,t.directionX=t.directionX?t.directionX:null,t.directionY=t.directionY?t.directionY:null,t.zoom=t.zoom?t.zoom:null;var n=t.toggleVisibility?function(e){return"hidden"!==e.style.visibility}:function(e){return"none"!==e.style.display},o=t.toggleVisibility?function(e){e.style.visibility="hidden"}:function(e){e.style.display="none"};if(e)if(n(e)){var l,s,r;if(t.directionX)switch(t.directionX=["left","right","random"].includes(t.directionX)?t.directionX:null,"random"===t.directionX&&(t.directionX=["right","left",null][Math.floor(3*Math.random())]),t.directionX){case"right":l=1;break;case"left":l=-1}if(t.directionY)switch(t.directionY=["up","down","random"].includes(t.directionY)?t.directionY:null,"random"===t.directionY&&(t.directionY=["up","down",null][Math.floor(3*Math.random())]),t.directionY){case"up":s=-1;break;case"down":s=1}if(t.zoom)switch(t.zoom=["in","out","random"].includes(t.zoom)?t.zoom:null,"random"===t.zoom&&(t.zoom=["in","out",null][Math.floor(3*Math.random())]),t.zoom){case"in":r=.005;break;case"out":r=-.005}if(t.waitTime)t.waitTime=!0===t.waitTime?2e3:t.waitTime,t.waitTime="number"==typeof t.waitTime?t.waitTime:2e3,setTimeout(function(){t.waitTime=!1,slideFadeOut(e,i,t)},t.waitTime);else{t.fadeTime="number"==typeof t.fadeTime?t.fadeTime:500;var a=20/t.fadeTime;e.style.opacity=1;var d=setInterval(function(){0<e.style.opacity?(e.style.opacity-=a,t.directionX&&(e.style.left=parseFloat(e.style.left.replace("px",""))+l+"px"),t.directionY&&(e.style.top=parseFloat(e.style.top.replace("px",""))+s+"px"),t.zoom&&(e.style.transform||(e.style.transform="scale(1)"),e.style.transform="scale("+(parseFloat(e.style.transform.replace("scale(","").replace(")",""))+r)+")")):(clearInterval(d),o(e),e.style.top=0,e.style.left=0,e.style.transform="scale(1)",i())},20)}}else i();else console.log("fadeOut error: no such element exists.")}function slideFadeIn(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:function(){},t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];"function"!=typeof i&&(i=function(){}),"string"==typeof e&&(e=document.getElementById(e));t.waitTime=!!t.waitTime&&t.waitTime,t.display=!!t.display&&t.display,t.fadeTime=t.fadeTime?t.fadeTime:250,t.toggleVisibility=!!t.toggleVisibility&&t.toggleVisibility,t.display=!1===t.display?"block":t.display,t.display=!0===t.display?"flex":t.display;var n=t.toggleVisibility?function(e){return"hidden"!==e.style.visibility}:function(e){return"none"!==e.style.display},o=t.toggleVisibility?function(e){e.style.visibility="visible"}:function(e){e.style.display=t.display};if(t.fadeTime="number"==typeof t.fadeTime?t.fadeTime:250,e){if(n(e))i();else if(t.waitTime)t.waitTime=!0===t.waitTime?2e3:t.waitTime,t.waitTime="number"==typeof t.waitTime?t.waitTime:2e3,setTimeout(function(){t.waitTime=!1,slideFadeIn(e,i,t)},t.waitTime);else if(e){var l=20/t.fadeTime;e.style.opacity=0,o(e);var s=setInterval(function(){e.style.opacity<1?e.style.opacity=parseFloat(e.style.opacity)+parseFloat(l):(clearInterval(s),i())},20)}}else console.log("fadeIn error: no such element exists: ")}